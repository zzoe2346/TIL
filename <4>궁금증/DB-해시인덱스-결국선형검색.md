# DB에서 해시인덱스 사용 가정, 하지만 어떤 키를 검색할때 결국 키에 해당하는 해시값을 선형검색하는거 아닌가?

해시 인덱스를 사용할 때는 일반적으로 해시 테이블을 사용하여 키를 검색합니다. **해시 테이블은 특정 키를 해당 버킷(bucket)으로 매핑하는 해시 함수(hash function)를 사용**합니다. 해시 인덱스를 사용하는 데이터베이스에서 키를 검색하는 과정은 다음과 같습니다:

1. **해시 함수 적용**: 검색하려는 키에 해시 함수를 적용하여 해시 값을 계산합니다. 이 해시 값은 해시 테이블에서 해당 키가 저장된 버킷의 위치를 결정합니다.

2. **버킷 접근**: 해시 값에 의해 결정된 버킷에 접근합니다. 이 버킷에는 동일한 해시 값을 가진 키-값 쌍들이 저장되어 있습니다.

3. **버킷 내 검색**: 버킷 내에서 해당 키를 선형 검색합니다. 이 과정에서 같은 해시 값을 가진 다른 키들과 비교하게 됩니다. 일반적으로 버킷의 크기가 작기 때문에 이 검색 과정은 매우 빠르게 이루어집니다.

즉, 해시 인덱스를 사용하면 전체 데이터베이스를 검색하는 대신, 먼저 해시 함수를 통해 특정 버킷으로 접근한 다음, 버킷 내에서만 키를 선형 검색하면 되므로 검색 효율이 크게 향상됩니다.

따라서, 키를 검색할 때 "결국 키에 해당하는 해시값을 선형 검색해야 되는거 아니야?"라는 질문에 대한 답변은:
- **네, 버킷 내에서는 선형 검색을 해야 할 수도 있습니다.** 하지만, 해시 함수의 사용으로 인해 데이터베이스 전체를 선형 검색하는 것보다 훨씬 더 작은 부분만을 검색하게 되어 효율적입니다. 또한, 적절하게 설계된 해시 함수와 해시 테이블 구조는 이러한 버킷 내 충돌을 최소화하여 검색 성능을 최적화합니다.